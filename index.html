<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Cooma : a simple and flexible microcontainer of Java" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Cooma</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/conanzhangxin/cooma">View on GitHub</a>

          <h1 id="project_title">Cooma</h1>
          <h2 id="project_tagline">a simple and flexible microcontainer of Java</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/conanzhangxin/cooma/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/conanzhangxin/cooma/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p><a href="https://github.com/alibaba/cooma/wiki">Cooma</a>是一个极简、灵活的开源Java微容器（microcontainer）实现。</p>

<h1>
<a name="" class="anchor" href="#"><span class="octicon octicon-link"></span></a>概述</h1>

<p><a href="https://github.com/alibaba/cooma/wiki">Cooma</a>适用于为 <strong>框架</strong>扩展点（Extension）的加载和配置。</p>

<p>使用Cooma可以避免：</p>

<ul>
<li>自己写一个潦草的微容器：

<ul>
<li>随着自身框架的发展，不断投入时间在微容器上增加新的常用功能，提高实现的强度。</li>
<li>调整微容器，需要重构上层逻辑结构，无趣又容易出错。</li>
</ul>
</li>
<li>使用其它过于庞大的容器，比如<code>Spring</code>：

<ul>
<li>对于一个框架，尤其是一个小框架，不能大依赖</li>
<li>框架对依赖引入要小，有利于自身简单易用。</li>
</ul>
</li>
</ul><p><code>Cooma</code>的代码来源于<a href="http://code.alibabatech.com/wiki/display/dubbo">Dubbo</a>项目中被长时间使用和验证的实现。在极简的前提下，保证了功能成熟完备，可以应付框架的扩展需求。使用中有功能、使用方式等等问题，欢迎联系<a href="mailto:java-cooma@googlegroups.com">Cooma Team</a>。</p>

<p>实现原型来自于<a href="http://java.sun.com/j2se/1.5.0/docs/guide/jar/jar.html#Service%20Provider">Service implementation of JDK5</a>。</p>

<p>参见<a href="https://github.com/alibaba/cooma/wiki/QuickStart">Quick Start</a>中的示例代码及其说明，快速了解。</p>

<h3>
<a name="-1" class="anchor" href="#-1"><span class="octicon octicon-link"></span></a>概念上极简独立</h3>

<ul>
<li>完全割除与容器不相关的概念。</li>
<li>审视已有的概念，谨慎引入新概念。</li>
</ul><h3>
<a name="-2" class="anchor" href="#-2"><span class="octicon octicon-link"></span></a>实现上简单直白</h3>

<ul>
<li>实现代码 <strong>少于1000行</strong>（不含代码注释）。<br>
使用<a href="http://www.dwheeler.com/sloccount/">sloccount</a>统计<code>0.2.1</code>版本的实现代码是 <em>780行</em>。</li>
<li>保持代码可读性。</li>
<li>不考虑没有实际应用的概念。</li>
<li>谨慎对待性能优化；不能因此打乱代码的简单性。</li>
</ul><h3>
<a name="-3" class="anchor" href="#-3"><span class="octicon octicon-link"></span></a>集成上的简易灵活</h3>

<ul>
<li>保持灵活的扩展性。</li>
<li>开发者友好。</li>
<li>集成是否简易是设计是否良好的有效指标。</li>
</ul><h1>
<a name="-4" class="anchor" href="#-4"><span class="octicon octicon-link"></span></a>功能</h1>

<ul>
<li>以插件方式加载扩展</li>
<li>支持依赖扩展点的自动加载（扩展的IOC）</li>
<li>可以有扩展点Wrapper，为扩展写公共Filter代码（扩展的AOP）</li>
<li>统一的配置方式来配置各级扩展点</li>
<li>查询插件实现</li>
<li>支持配置方式/编程方式</li>
</ul><h1>
<a name="-5" class="anchor" href="#-5"><span class="octicon octicon-link"></span></a>核心概念</h1>

<ul>
<li>Extension Point，扩展点，要扩展的接口</li>
<li>Extension，扩展，即扩展点的实现</li>
<li>Extension Instance，扩展实例，即扩展点实现类的实例<br>
# ExtensionLoader中维护了Extension Instance的 <strong>单例</strong>。</li>
<li>Extension Adaptive Instance，扩展的自适应实例</li>
<li>Extension Wrapper，所有扩展点实现调用时都会先触发的执行</li>
</ul><h1>
<a name="-6" class="anchor" href="#-6"><span class="octicon octicon-link"></span></a>相关产品</h1>

<ul>
<li><a href="http://www.springsource.org/">Spring</a></li>
<li><a href="http://code.google.com/p/google-guice/">Google Guice</a></li>
<li>
<a href="http://www.jboss.org/jbossmc/">microcontainer of JBoss</a> </li>
<li><a href="http://excalibur.apache.org/">Excalibur</a></li>
<li><a href="http://loom.codehaus.org/">Loom</a></li>
<li><a href="http://nanocontainer.codehaus.org/">nanocontainer</a></li>
<li><a href="http://www.picocontainer.org/">picocontainer</a></li>
</ul><p>更多内容参见：</p>

<ul>
<li><a href="http://www.ideagrace.com/sf/containers/">http://www.ideagrace.com/sf/containers/</a></li>
<li><a href="http://www.open-open.com/11.htm">http://www.open-open.com/11.htm</a></li>
<li><a href="http://www.oschina.net/project/tag/173/aop?sort=view&amp;lang=19&amp;os=0">http://www.oschina.net/project/tag/173/aop?sort=view&amp;lang=19&amp;os=0</a></li>
</ul><h1>
<a name="-7" class="anchor" href="#-7"><span class="octicon octicon-link"></span></a>项目起源</h1>

<p><a href="http://code.alibabatech.com/wiki/display/dubbo">Dubbo</a>项目中有一个微容器实现，这个微容器管理了Dubbo的各个扩展点（组件）：</p>

<ul>
<li>初始化和持有扩展</li>
<li>能够以插件的方式加载扩展，从而可以由第三方写组件的插件</li>
<li>以简洁字符串的方式统一配置各级扩展</li>
<li>依赖扩展的自动注入（IOC）</li>
<li>可以为扩展写公共Filter代码（AOP）</li>
</ul><p>但Dubbo的微容器实现耦合微容器之外RPC的概念，这样功能复杂显不清晰，这是代码的坏味道（bad smell）。所以把Dubbo的微容器的代码独立拿出来发展；另外拿出来后，可以独立改进，而不会有兼容Dubbo已有用法的历史包袱。</p>

<p>这个实现取名为Cooma。和Dubbo一样，Cooma也是一个澳大利亚地名，显示出和Dubbo的渊源关系；<br>
另外，和“Container”一样，Cooma以“Co”开头，表示是一个容器，方便联想记忆。</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Cooma maintained by <a href="https://github.com/conanzhangxin">conanzhangxin</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
